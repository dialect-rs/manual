<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>dialect manual</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="title-page.html">Welcome</a></li><li class="chapter-item expanded "><a href="ch01-00-getting-started.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch01-01-prerequisites.html"><strong aria-hidden="true">1.1.</strong> Prerequisites</a></li><li class="chapter-item expanded "><a href="ch01-02-installation.html"><strong aria-hidden="true">1.2.</strong> Installation</a></li></ol></li><li class="chapter-item expanded "><a href="chapter_1.html"><strong aria-hidden="true">2.</strong> Running the program</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch02-01-configuration.html"><strong aria-hidden="true">2.1.</strong> Configuration</a></li><li class="chapter-item expanded "><a href="ch02-02-starting_a_calcuation.html"><strong aria-hidden="true">2.2.</strong> Starting a calculation</a></li></ol></li><li class="chapter-item expanded "><a href="ch03-00-example_configurations.html"><strong aria-hidden="true">3.</strong> Example configurations</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch03-01-dftb_gs.html"><strong aria-hidden="true">3.1.</strong> DFTB ground state calculation</a></li><li class="chapter-item expanded "><a href="ch03-02-dftb_excited.html"><strong aria-hidden="true">3.2.</strong> DFTB excited state calculation</a></li><li class="chapter-item expanded "><a href="ch03-03-dftb_optimization.html"><strong aria-hidden="true">3.3.</strong> DFTB Optimization</a></li><li class="chapter-item expanded "><a href="ch03-04-fmo_gs.html"><strong aria-hidden="true">3.4.</strong> FMO-DFTB ground state calculation</a></li><li class="chapter-item expanded "><a href="ch03-05-fmo_excited.html"><strong aria-hidden="true">3.5.</strong> FMO-DFTB excited state calculation</a></li><li class="chapter-item expanded "><a href="ch03-06-dftb_dynamics.html"><strong aria-hidden="true">3.6.</strong> DFTB dynamics simulation</a></li><li class="chapter-item expanded "><a href="ch03-07-dftb_initial_conditions.html"><strong aria-hidden="true">3.7.</strong> DFTB dynamics initial conditions</a></li><li class="chapter-item expanded "><a href="ch03-08-polariton_calculation.html"><strong aria-hidden="true">3.8.</strong> Strong light-matter interactions</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">dialect manual</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <div align="center">
<img src="./dialect_logo.svg" alt="DIALECT" width="250">
</div>
<h1 id="dialect"><a class="header" href="#dialect">DIALECT</a></h1>
<p>The <strong>DIALECT</strong>(<strong>DIA</strong>batic <strong>L</strong>ocally <strong>E</strong>xcited and <strong>C</strong>harge-<strong>T</strong>ransfer states) software was designed to calculate the excited state properties and exciton dynamics of large molecular systems, including strong light-matter interactions between microcavities and molecular assemblies. It is developed in the group of Prof. Dr. Roland Mitrić at the University of Würzburg.</p>
<p>This short documentation provides guidelines for the installation and use of the <strong>DIALECT</strong> software.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h1>
<p>The installation and the software requirements of the <strong>DIALECT</strong> program are explained in the following part of the documentation.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="using-pre-compiled-binaries"><a class="header" href="#using-pre-compiled-binaries">Using pre-compiled binaries</a></h1>
<p>A precompiled binary of DIALECT, which was compiled using github actions, is provided with the release on github.</p>
<p>The use of the pre-compiled binaries requires the installation of certain libraries on your computer.</p>
<h2 id="gcc"><a class="header" href="#gcc">GCC</a></h2>
<p>As the pre-complied binaries are dynamically linked against the GCC library, it has to be installed on your system. An example for the installation of GCC on a Debian or Ubuntu machine is shown here.</p>
<pre><code class="language-bash‚">sudo apt-get install gcc
</code></pre>
<h1 id="compiling-the-code"><a class="header" href="#compiling-the-code">Compiling the code</a></h1>
<p>If you want to compile the program from source, you need to install additional programs and libraries.</p>
<h2 id="rust"><a class="header" href="#rust">Rust</a></h2>
<p>Of course you need the Rust programming language itself to compile the code. The installation is explained in 
detail on the <a href="https://www.rust-lang.org/tools/install">official site</a>.</p>
<h2 id="cmake"><a class="header" href="#cmake">CMaKe</a></h2>
<p>To compile certain Rust packages, you also need to install cmake.</p>
<pre><code class="language-bash">sudo apt-get install cmake
</code></pre>
<h2 id="gfortran"><a class="header" href="#gfortran">Gfortran</a></h2>
<p>In addition, the Gfortran compiler must be installed.</p>
<pre><code class="language-bash‚">sudo apt-get install gfortran
</code></pre>
<h2 id="open-ssl"><a class="header" href="#open-ssl">Open-SSL</a></h2>
<p>You need Open-SSL as some used Rust libraries depend on it. You can follow the guide 
shown <a href="https://www.howtoforge.com/tutorial/how-to-install-openssl-from-source-on-linux/">here</a> to install Open-SSL on 
linux.</p>
<h2 id="linear-algebra-libraries"><a class="header" href="#linear-algebra-libraries">Linear Algebra Libraries</a></h2>
<p>To be able to compile and run the <strong>DIALECT</strong> program, it is necessary to download a linear algebra package as a requirement for the ndarray_linalg rust crate. You can choose between Intel MKL, OPENBLAS or Netlib by changing the features of ndarray_linalg in the Cargo.toml file according to the documentation (<a href="https://github.com/rust-ndarray/ndarray-linalg">github page</a>). In our experience, the intel MKL library yields the best performance. </p>
<p>Per default, the Cargo.toml files of DIALECT configure the ndarray_linalg create with &quot;openblas-static&quot;, which should download and compile the OPENBLAS library and link it with the DIALECT package.</p>
<p>If you want to use the linear algebra packages that are already installed on your system, you need to change the feature of ndarray_linalg in the Cargo.toml files to &quot;openblas-system&quot;, &quot;intel-mkl-system&quot; or &quot;netlib-system&quot;.</p>
<p>The instructions for the installation of the libraries are provided in the following section. </p>
<h2 id="installation-of-linalg-packages"><a class="header" href="#installation-of-linalg-packages">Installation of LINALG packages</a></h2>
<h3 id="intel-mkl"><a class="header" href="#intel-mkl">Intel MKL</a></h3>
<p>If you want to compile DIALECT from source using the intel MKL as the linear algebra package, you will need to install it according to the following steps.</p>
<p>You can just download the MKL library from the <a href="https://software.intel.com/content/www/us/en/develop/articles/oneapi-standalone-components.html">Intel webpage</a> and after the installation the environment variable $MKLROOT must be set with the <code>setvars.sh</code> script, which is located in the root
installation directory of MKL.</p>
<pre><code class="language-bash">source /path/to/MKL/setvars.sh
</code></pre>
<p>In the case of the older versions you have to execute the <code>mklvars.sh</code> script that is located
in the installation directory of the MKL Library. </p>
<pre><code class="language-bash">source /path/to/MKL/mklvars.sh intel64
</code></pre>
<h3 id="openblasnetlib"><a class="header" href="#openblasnetlib">OPENBLAS/Netlib</a></h3>
<p>If you want to use OPENBLAS or netlib as the LINALG library, you need to install the BLAS and LAPACK libraries with the package manager of your operating systems.</p>
<pre><code class="language-bash">sudo apt-get install libopenblas-dev
sudo apt-get install libblas-dev
sudo apt-get install libatlas-base-dev 
sudo apt-get install liblapack-dev
</code></pre>
<h2 id="mac-users"><a class="header" href="#mac-users">Mac users</a></h2>
<p>In case of Mac users that have an apple silicon based processor, we recommend the compilation of DIALECT in conjunction with the accelerate framework.</p>
<p>A few changes to the Cargo.toml files are neccessary to compile DIALECT with accelerate:</p>
<pre><code class="language-toml">ndarray-linalg = { version = &quot;0.16&quot;, default-features = false }
blas-src = { version = &quot;0.8&quot;, features = [&quot;accelerate&quot;] }
</code></pre>
<p>In addition, a build.rs file that contains the following line</p>
<pre><pre class="playground"><code class="language-rust">fn main() {println!(&quot;cargo:rustc-link-lib=framework=Accelerate&quot;)}
</code></pre></pre>
<p>must be created in the src folders of the DIALECT package and the dialect dynamics subpackage in order to use the accelerate framework.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<p>There are multiple ways to install <strong>DIALECT</strong>.
Choose any one of the methods below that best suit your needs.</p>
<h2 id="pre-compiled-binaries"><a class="header" href="#pre-compiled-binaries">Pre-compiled binaries</a></h2>
<p>An executable binary for linux x86 operating systems is available for download on the <a href="https://github.com/dialect-rs/DIALECT-rs/releases">GitHub Releases page</a>.
Download the binary and add the directory of the executable to your <code>PATH</code>. For some calculations (like the computation of cube files), the environment variable <code>DIALECT_SRC_DIR</code> must be set to the path to the DIALECT source code. Thus, the DIALECT code from github is also neccessary.</p>
<h2 id="build-from-source-using-rust"><a class="header" href="#build-from-source-using-rust">Build from source using Rust</a></h2>
<p>Once you have installed Rust, you need to download the source code of the latest release of <code>DIALECT</code> from the <a href="https://github.com/dialect-rs/DIALECT-rs/releases">GitHub Releases page</a>. After extracting the source code, change into the new directory</p>
<pre><code class="language-bash">cd DIALECT-rs
</code></pre>
<p>and build the executable with the package manager Cargo</p>
<pre><code class="language-bash">cargo build --release
</code></pre>
<p>The option <code>--release</code> enables all optimization during the build and ensures fast runtimes, but can
result in very long compile times. If you want to compile often e.g. in the case of debugging, then 
it makes sense to just execute</p>
<pre><code class="language-bash">cargo build
</code></pre>
<p>To be able to execute the <code>DIALECT</code> programm you should set <code>DIALECT_SRC_DIR</code> to the installation directory and you 
can add the binary path to your <code>PATH</code> environment variable.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="running-the-program"><a class="header" href="#running-the-program">Running the program</a></h1>
<p>This part of the documentation provides a guide for the user on how to do a calculation with the <strong>DIALECT</strong> program and how to configure the program settings.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="program-settings"><a class="header" href="#program-settings">Program settings</a></h1>
<p>To configure the settings for a calculation using the <strong>DIALECT</strong> program, the file <strong>dialect.toml</strong> has to be created. You can either create the file yourself or you can run the program in a directory without the configuration file:</p>
<pre><code class="language-sh">/your/path/to/DIALECT/dialect file.xyz
</code></pre>
<p>The <strong>dialect.toml</strong> will then be created using the standard values of the program. 
The settings of the file dialect.toml are explained in the following sections.</p>
<hr />
<h2 id="general-settings"><a class="header" href="#general-settings">General Settings</a></h2>
<pre><code class="language-toml">jobtype = &quot;sp&quot;   # Type of calculation. Options:
                 # - &quot;sp&quot; (single-point energy calculation)
                 # - &quot;opt&quot; (geometry optimization)
                 # - &quot;grad&quot; (gradient evaluation)
                 # - &quot;hessian&quot; (Hessian matrix calculation)
                 # - &quot;dynamics&quot; (molecular dynamics)
                 # - &quot;monomer_identification&quot; (get the monomer index that corresponds to atomic coordinates)
                 # - &quot;initial_conditions&quot; (Wigner sampling for dynamics)
                 # - &quot;polariton&quot; (exciton-polariton simulation)
                 # - &quot;tdm_ehrenfest&quot; (create the TDMs and/or particle and hole densities along a trajectory of Ehrenfest FMO-LC-TDDFTB)

verbose = 0      # Level of printed output:
                 # - -1: minimal output (silent mode)
                 # -  0: normal/default verbosity
                 # -  1: verbose mode (some debug info)
</code></pre>
<hr />
<h2 id="tight-binding-method-options"><a class="header" href="#tight-binding-method-options">Tight-Binding Method Options</a></h2>
<pre><code class="language-toml">[tight_binding]
use_dftb = true                  # Enable standard DFTB method (density-functional tight-binding)
use_xtb1 = false                 # Use GFN1-xTB method instead of DFTB (as of now, only ground state properties are supported)
use_gaussian_gamma = true        # Use Gaussian functions to model the gamma matrix (Coulomb interaction); set to false for Slater functions (as most DFTB parametrisations employ Slater functions, we recommend to set this option to false for esternal Slater-Koster parameters)
use_shell_resolved_gamma = false # Allow different Hubbard parameters for different orbital types (s, p, d) instead of one uniform value per atom
</code></pre>
<hr />
<h2 id="fragment-molecular-orbital-fmo-settings"><a class="header" href="#fragment-molecular-orbital-fmo-settings">Fragment Molecular Orbital (FMO) Settings</a></h2>
<pre><code class="language-toml">[fmo]
use_fmo = false           # Enable FMO method for fragment-based calculations
vdw_scaling = 2.0         # Controls fragmentation behavior:
                          # - Higher values lead to looser fragment pairing
                          # - Controls the number of monomer pairs and ES-DIM pairs
</code></pre>
<hr />
<h2 id="molecular-system-information"><a class="header" href="#molecular-system-information">Molecular System Information</a></h2>
<pre><code class="language-toml">[mol]
charge = 0                # Total charge of the system
multiplicity = 1          # Spin multiplicity. Currently, only singlet (1) is supported
</code></pre>
<hr />
<h2 id="scf-convergence-criteria"><a class="header" href="#scf-convergence-criteria">SCF Convergence Criteria</a></h2>
<pre><code class="language-toml">[scf]
scf_max_cycles = 250           # Max number of iterations in the self-consistent charge (SCC) loop
scf_charge_conv = 0.00001      # Convergence threshold for charge density between SCC steps
scf_energy_conv = 0.00001      # Convergence threshold for energy between SCC steps
</code></pre>
<hr />
<h2 id="long-range-corrections"><a class="header" href="#long-range-corrections">Long-Range Corrections</a></h2>
<pre><code class="language-toml">[lc]
long_range_correction = true   # Apply long-range correction (important for accurate CT excitation energies)
long_range_radius = 3.03       # Radius for applying long-range corrections (in au)
</code></pre>
<hr />
<h2 id="dftb3-parameters"><a class="header" href="#dftb3-parameters">DFTB3 Parameters</a></h2>
<pre><code class="language-toml">[dftb3]
use_dftb3 = false               # Enable DFTB3 (third-order corrections)
use_gamma_damping = false       # Use damping for gamma matrix
hubbard_derivatives = [1.0, 1.0] # Values of the derivatives of the Hubbard U w.r.t. charge for each element (ordered by Z)
</code></pre>
<hr />
<h2 id="geometry-optimization-options"><a class="header" href="#geometry-optimization-options">Geometry Optimization Options</a></h2>
<pre><code class="language-toml">[opt]
state_to_optimize = 0                  # Electronic state to be optimized (0 = ground state)
geom_opt_max_cycles = 500             # Max number of optimization steps
geom_opt_tol_displacement = 300.0     # Tolerance for geometry displacement, 300 * 10^-6 as default
geom_opt_tol_gradient = 1200.0        # Tolerance for gradient norm (controls convergence), 1200 * 10^-6 as default
geom_opt_tol_energy = 1.0             # Energy change threshold for convergence, 1.0 * 10^-6 as default
use_bfgs = true                       # Use LBFGS optimizer
use_line_search = true               # Enable line search for better step size in optimization
</code></pre>
<hr />
<h2 id="excited-state-calculations"><a class="header" href="#excited-state-calculations">Excited State Calculations</a></h2>
<pre><code class="language-toml">[excited]
calculate_excited_states = false       # Enable excited state calculation
nstates = 10                           # Number of excited states to calculate
davidson_iterations = 100              # Max iterations in the Davidson solver
davidson_subspace_multiplier = 10      # Controls the max subspace size: subspace = nstates * multiplier
davidson_convergence = 0.00001         # Convergence threshold for the residuals in Davidson method
use_casida = false                     # Use full Casida equations; default is TDA
get_all_states = false                 # Calculate all excited states (not just lowest nstates)
</code></pre>
<hr />
<h2 id="td-dftb-excited-states"><a class="header" href="#td-dftb-excited-states">TD-DFTB Excited States</a></h2>
<pre><code class="language-toml">[tddftb]
restrict_active_orbitals = false         # Enable orbital restriction (limits calculation to key orbitals)
active_orbital_threshold = 0.2           # Fraction of orbitals included (0.2 = 20% of occupied and virtual orbitals)
save_transition_densities = false        # Save transition density matrices
save_natural_transition_orbitals = false # Save NTOs as .cube files (for visualization)
states_to_analyse = [0, 1]               # Specify which excited states to analyze (e.g., save NTOs)
</code></pre>
<hr />
<h2 id="slater-koster-parameters"><a class="header" href="#slater-koster-parameters">Slater-Koster Parameters</a></h2>
<pre><code class="language-toml">[slater_koster]
use_external_skf = false          # Use external Slater-Koster files (recommended)
skf_directory = &quot; &quot;               # Path to the directory containing .skf files
</code></pre>
<hr />
<h2 id="parallelization"><a class="header" href="#parallelization">Parallelization</a></h2>
<pre><code class="language-toml">[parallelization]
number_of_cores = 1               # Number of CPU cores to use (parallel execution)
</code></pre>
<hr />
<h2 id="fmo-lc-tddftb-settings"><a class="header" href="#fmo-lc-tddftb-settings">FMO-LC-TDDFTB Settings</a></h2>
<pre><code class="language-toml">[fmo_lc_tddftb]
restrict_active_space = true               # Restrict exchange integral calculation to significant transitions only; only TDM matrix elements that are above a threshold will be considered for the exchange evaluation
active_space_threshold_le = 0.0001         # Threshold for including locally excited transitions
active_space_threshold_ct = 0.0001         # Threshold for charge-transfer transitions
n_le = 2                                   # Number of local excited states to consider
n_ct = 1                                   # Number of CT states to include
calculate_all_states = false               # Whether to compute full excitonic Hamiltonian
calculate_ntos = false                     # Enable NTO calculations
calculate_transition_densities = false     # Save transition density matrices
calculate_particle_hole_densities = false  # Save particle/hole density maps
states_to_analyse = [0, 1]                 # Specify which states to analyze
calc_exact_s_sqrt_inv = false              # Compute exact inverse square root of overlap matrix (costly but accurate)
</code></pre>
<hr />
<h2 id="dispersion-corrections-dft-d3"><a class="header" href="#dispersion-corrections-dft-d3">Dispersion Corrections (DFT-D3)</a></h2>
<pre><code class="language-toml">[dispersion]
use_dispersion = false       # Enable Grimme's DFT-D3 dispersion correction; you need to look up the dispersion parameters to the corresponding Slater-Koster files
s6 = 1.0                     # Global scaling factor for dispersion energy
s8 = 0.01                    # Scaling for higher-order dispersion terms
a1 = 0.497                   # Damping function parameter
a2 = 3.622                   # Damping function parameter
</code></pre>
<hr />
<h2 id="monomer-identification"><a class="header" href="#monomer-identification">Monomer Identification</a></h2>
<pre><code class="language-toml">[identification_config]
atom_coordinates = [[0.0, 0.0, 0.0]]  # Coordinates of a single atom of the monomer for identification in the structure
</code></pre>
<hr />
<h2 id="initial-condition-sampling-wigner"><a class="header" href="#initial-condition-sampling-wigner">Initial Condition Sampling (Wigner)</a></h2>
<pre><code class="language-toml">[wigner_config]
n_samples = 50                     # Number of samples to generate (position + velocity)
temperature = 50.0                 # Temperature for sampling (Wigner distribution)
n_cut = 6                          # Number of modes (typically rotational/translation) to exclude from Hessian
save_in_other_path = false         # Save files outside the working directory
wigner_path = &quot; &quot;                  # If saving elsewhere, specify full directory path
write_velocities = true            # Save velocity vectors in output (NumPy format)
</code></pre>
<hr />
<h2 id="create-cube-files-along-ehrenfest-trajectory"><a class="header" href="#create-cube-files-along-ehrenfest-trajectory">Create cube files along Ehrenfest trajectory</a></h2>
<pre><code class="language-toml">[tdm_config]
calculate_nth_step = 10            # Create a cube file for every nth step
total_steps = 1000                 # Set the total number of steps along the trajectory
store_tdm = false                  # Save the TDM as a Numpy file
store_hole_particle = false        # Save the hole and particle density as a cube file
calc_cube = true                   # Compute the cube file of the particle and hole densities
calc_tdm_cube = false              # Compute the cube file of the transition density matrix
use_parallelization = true         # use multithreading for the calculation (high demand of RAM)
</code></pre>
<hr />
<h2 id="strong-light-matter-interactions"><a class="header" href="#strong-light-matter-interactions">Strong light-matter interactions</a></h2>
<pre><code class="language-toml">[polariton]                        # If the jobtype &quot;polariton&quot; is chosen, these options must be considered
e = [[1.0, 1.0, 1.0]]              # activate/deactivate the electric field components of the photon 
p = [[0.0, 0.0, 0.0]]              # electric field polarization of the photon; for x-polarisation, choose [[1.0,0.0,0.0]]
photon_energy = [0.0]              # photon energy
quantized_volume = [1.0]           # quantized volume for the calculation of the light-matter coupling constant g
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="calling-the-program"><a class="header" href="#calling-the-program">Calling the program</a></h1>
<p>If you have the <strong>DIALECT</strong> executable in your <code>PATH</code>, you can simply start a calculation using</p>
<pre><code class="language-sh">dialect file.xyz
</code></pre>
<p>Otherwise you would have to call the program using the full path to the DIALECT binary</p>
<pre><code class="language-sh">/your/path/to/DIALECT/dialect file.xyz
</code></pre>
<p>Normally the output of the program is printed to the console. To save the output to a file, use:</p>
<pre><code class="language-sh">dialect file.xyz &amp;&gt; output.dat
</code></pre>
<p>If you intend to use the built in DFTB parameterization, you are required to set the <code>DIALECT_SRC_DIR</code> to the folder containing the source files of the program:</p>
<pre><code class="language-sh">export DIALECT_SRC_DIR=/your/path/to/DIALECT
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="example-configurations"><a class="header" href="#example-configurations">Example configurations</a></h1>
<p>In this chapter, we present configurations for a few different example calculations.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dftb-ground-state-calculation"><a class="header" href="#dftb-ground-state-calculation">DFTB ground state calculation</a></h1>
<p>Here, we show example <em>dialect.toml</em> file configurations for ground state calculations using various DFTB methods.</p>
<h2 id="dftb2"><a class="header" href="#dftb2">DFTB2</a></h2>
<pre><code class="language-toml">jobtype = &quot;sp&quot;
verbose = 0

[tight_binding]
use_dftb = true 
use_xtb1 = false   
use_gaussian_gamma = false  
use_shell_resolved_gamma = false 

[mol]
charge = 0
multiplicity = 1 # As of now, only singlets are supported

[lc]
long_range_correction = false
long_range_radius = 3.03

[scf]
scf_max_cycles = 250
scf_charge_conv = 1.0e-8
scf_energy_conv = 1.0e-8

[slater_koster]
use_external_skf = true
skf_directory = &quot;/path/to/slater_koster_files/mio-1-1&quot;

[parallelization]
number_of_cores = 1

[dispersion]
use_dispersion = false
s6 = 1.0
s8 = 0.01
a1 = 0.497
a2 = 3.622
</code></pre>
<h2 id="lc-dftb2"><a class="header" href="#lc-dftb2">LC-DFTB2</a></h2>
<pre><code class="language-toml">jobtype = &quot;sp&quot;
verbose = 0

[tight_binding]
use_dftb = true 
use_xtb1 = false   
use_gaussian_gamma = false  
use_shell_resolved_gamma = false 

[mol]
charge = 0
multiplicity = 1

[scf]
scf_max_cycles = 250
scf_charge_conv = 1.0e-8
scf_energy_conv = 1.0e-8

[lc]
long_range_correction = true # request long-range correction
long_range_radius = 3.333333 # set the long-range radius -&gt; R_{lc} = 1/omega

[slater_koster]
use_external_skf = true
skf_directory = &quot;/path/to/slater_koster_files/ob2-1-1/split&quot;

[parallelization]
number_of_cores = 1

[dispersion]
use_dispersion = false
s6 = 1.0
s8 = 0.01
a1 = 0.497
a2 = 3.622
</code></pre>
<h2 id="dftb3"><a class="header" href="#dftb3">DFTB3</a></h2>
<pre><code class="language-toml">jobtype = &quot;sp&quot;
verbose = 0

[tight_binding]
use_dftb = true 
use_xtb1 = false   
use_gaussian_gamma = false  
use_shell_resolved_gamma = false 

[mol]
charge = 0
multiplicity = 1

[lc]
long_range_correction = false
long_range_radius = 3.03

[scf]
scf_max_cycles = 250
scf_charge_conv = 1.0e-8
scf_energy_conv = 1.0e-8

[dftb3]
use_dftb3 = true
use_gamma_damping = false
hubbard_derivatives = [-0.1857, -0.1492] # from the element with the lowest atomic number to the highest

[slater_koster]
use_external_skf = true
skf_directory = &quot;/path/to/work/slater_koster_files/3ob-3-1&quot;

[parallelization]
number_of_cores = 1

[dispersion]
use_dispersion = false
s6 = 1.0
s8 = 0.01
a1 = 0.497
a2 = 3.622
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dftb-excited-state-calculation"><a class="header" href="#dftb-excited-state-calculation">DFTB excited-state calculation</a></h1>
<p>Here, we show an example <em>dialect.toml</em> file configuration for excited-state calculations using LC-DFTB.</p>
<pre><code class="language-toml">jobtype = &quot;sp&quot;
verbose = 0

[tight_binding]
use_dftb = true 
use_xtb1 = false   
use_gaussian_gamma = false  
use_shell_resolved_gamma = false 

[mol]
charge = 0
multiplicity = 1

[scf]
scf_max_cycles = 250
scf_charge_conv = 1.0e-8
scf_energy_conv = 1.0e-8

[lc]
long_range_correction = true
long_range_radius = 3.333333

[excited]
calculate_excited_states = true # request excited states
nstates = 10 # number of excited states
davidson_iterations = 100 # Maximum number of iterations for the Davidson algorithm
davidson_subspace_multiplier = 10 # Sets the maximum number of guess vectors for the Davidson algorithm as: 10 * NrExcitations -&gt; Here, it would result in a maximum subspace of 100
davidson_convergence = 0.00001 # Tolerance threshold for the residuals of the Davidson alogrithm
use_casida = false # if false, only TDA is performed
get_all_states = false # if requested, the full excited state manifold of singly excited singlet states is calculated -&gt; Builds full A matrix 

[tddftb]
restrict_active_orbitals = false # restrict the number of orbitals for the excited state calculation
active_orbital_threshold = 0.5 # 50% of the occupied and virtual orbitals are used for the excited state calculation
save_transition_densities = false # save transition densities to npy file
save_natural_transition_orbitals = true # request NTOs if desired
states_to_analyse = [0, 1] # states for the calculation of transition densities and NTOs

[slater_koster]
use_external_skf = true
skf_directory = &quot;/path/to/skf/files&quot;

[parallelization]
number_of_cores = 1

[dispersion]
use_dispersion = false
s6 = 1.0
s8 = 0.01
a1 = 0.497
a2 = 3.622
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dftb-geometry-optimization"><a class="header" href="#dftb-geometry-optimization">DFTB geometry optimization</a></h1>
<p>Here, we show example <em>dialect.toml</em> file configurations for the geometry optimization of the ground and excited state.</p>
<h2 id="ground-state"><a class="header" href="#ground-state">Ground state</a></h2>
<pre><code class="language-toml">jobtype = &quot;opt&quot;
verbose = 0

[tight_binding]
use_dftb = true 
use_xtb1 = false   
use_gaussian_gamma = false  
use_shell_resolved_gamma = false 

[fmo]
fmo = false
vdw_scaling = 2.0

[mol]
charge = 0
multiplicity = 1

[lc]
long_range_correction = false
long_range_radius = 3.03

[scf]
scf_max_cycles = 250
scf_charge_conv = 1.0e-8
scf_energy_conv = 1.0e-8

[opt]
state_to_optimize = 0 # optimize the ground state
geom_opt_max_cycles = 500 # maximum iterations
geom_opt_tol_displacement = 1.0 # geometry displacement tolerance
geom_opt_tol_gradient = 1.0 # gradient tolerance
geom_opt_tol_energy = 1.0e-1 # energy tolerance
use_bfgs = true # employ lbfgs
use_line_search = true # utilize line search

[slater_koster]
use_external_skf = true
skf_directory = &quot;/path/to/skf/files&quot;

[parallelization]
number_of_cores = 1

[dispersion]
use_dispersion = false
s6 = 1.0
s8 = 0.01
a1 = 0.497
a2 = 3.622
</code></pre>
<h2 id="excited-state"><a class="header" href="#excited-state">Excited state</a></h2>
<pre><code class="language-toml">jobtype = &quot;opt&quot;
verbose = 0

[tight_binding]
use_dftb = true 
use_xtb1 = false   
use_gaussian_gamma = false  
use_shell_resolved_gamma = false 

[fmo]
fmo = false
vdw_scaling = 2.0

[lc]
long_range_correction = false
long_range_radius = 3.03

[scf]
scf_max_cycles = 250
scf_charge_conv = 1.0e-8
scf_energy_conv = 1.0e-8

[opt]
state_to_optimize = 1
geom_opt_max_cycles = 500
geom_opt_tol_displacement = 1.0
geom_opt_tol_gradient = 1.0
geom_opt_tol_energy = 1.0e-1
use_bfgs = true
use_line_search = true

[excited]
calculate_excited_states = true
nstates = 10
davidson_iterations = 100
davidson_subspace_multiplier = 10
davidson_convergence = 0.00001
use_casida = false
get_all_states = false

[slater_koster]
use_external_skf = true
skf_directory = &quot;/path/to/skf/files&quot;

[parallelization]
number_of_cores = 1

[dispersion]
use_dispersion = false
s6 = 1.0
s8 = 0.01
a1 = 0.497
a2 = 3.622
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="fmo-dftb-ground-state-calculation"><a class="header" href="#fmo-dftb-ground-state-calculation">FMO-DFTB ground state calculation</a></h1>
<p>Here, we show an example <em>dialect.toml</em> file configuration for a ground state calculation using the (LC-)DFTB2 method.</p>
<h2 id="dftb2-1"><a class="header" href="#dftb2-1">DFTB2</a></h2>
<pre><code class="language-toml">jobtype = &quot;sp&quot;
verbose = 0

[tight_binding]
use_dftb = true 
use_xtb1 = false   
use_gaussian_gamma = false  
use_shell_resolved_gamma = false 

[fmo]
fmo = true
vdw_scaling = 2.0

[mol]
charge = 0
multiplicity = 1

[scf]
scf_max_cycles = 250
scf_charge_conv = 1.0e-8
scf_energy_conv = 1.0e-8

[lc]
long_range_correction = false
long_range_radius = 3.333333

[slater_koster]
use_external_skf = true
skf_directory = &quot;/path/to/slater_koster&quot;

[parallelization]
number_of_cores = 1

[dispersion]
use_dispersion = false
s6 = 1.0
s8 = 0.01
a1 = 0.497
a2 = 3.622
</code></pre>
<h2 id="lc-dftb2-1"><a class="header" href="#lc-dftb2-1">LC-DFTB2</a></h2>
<pre><code class="language-toml">jobtype = &quot;sp&quot;
verbose = 0

[tight_binding]
use_dftb = true 
use_xtb1 = false   
use_gaussian_gamma = false  
use_shell_resolved_gamma = false 

[fmo]
fmo = true
vdw_scaling = 2.0

[mol]
charge = 0
multiplicity = 1

[scf]
scf_max_cycles = 250
scf_charge_conv = 1.0e-8
scf_energy_conv = 1.0e-8

[lc]
long_range_correction = true
long_range_radius = 3.333333

[slater_koster]
use_external_skf = true
skf_directory = &quot;/path/to/skf/files&quot;

[parallelization]
number_of_cores = 1

[dispersion]
use_dispersion = false
s6 = 1.0
s8 = 0.01
a1 = 0.497
a2 = 3.622
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="fmo-dftb-excited-state-calculation"><a class="header" href="#fmo-dftb-excited-state-calculation">FMO-DFTB excited state calculation</a></h1>
<p>Here, we show an example <em>dialect.toml</em> file configuration for an excited state calculation using the FMO-LC-TDDFTB method.</p>
<pre><code class="language-toml">jobtype = &quot;sp&quot;
verbose = 0

[tight_binding]
use_dftb = true 
use_xtb1 = false   
use_gaussian_gamma = false  
use_shell_resolved_gamma = false 

[fmo]
fmo = true
vdw_scaling = 2.0

[mol]
charge = 0
multiplicity = 1

[scf]
scf_max_cycles = 250
scf_charge_conv = 1.0e-8
scf_energy_conv = 1.0e-8

[lc]
long_range_correction = true
long_range_radius = 3.333333

[excited]
calculate_excited_states = true
nstates = 100
davidson_iterations = 100
davidson_subspace_multiplier = 10
davidson_convergence = 0.00001
use_casida = false
get_all_states = false

[slater_koster]
use_external_skf = true
skf_directory = &quot;/path/to/skf/files&quot;

[parallelization]
number_of_cores = 1

[fmo_lc_tddftb]
restrict_active_space = true # Restricts the transition density matrix elements for the calculation of the exchange interactions between LE and CT states 
active_space_threshold_le = 0.0001 # threshold for the tdm matrix for LE interactions
active_space_threshold_ct = 0.0001 # threshold for the tdm matrix for CT interactions
n_le = 3 # Number of requested LE states for each fragment
n_ct = 1 # Number of requested CT states for each fragment pair
calculate_all_states = false # Calculate all excited states of the excitonic Hamiltonian
calculate_ntos = false # Calculate NTOs, which are then saved in a molden file that works with jmol
calculate_transition_densities = false # request the calculation of transition densities
calculate_particle_hole_densities = false # request the calculation of particle hole densities
states_to_analyse = [0, 1] # states for the NTO generation
calc_exact_s_sqrt_inv = false # request the exact calculation of the S^-1/2 matrix

[dispersion]
use_dispersion = false
s6 = 1.0
s8 = 0.01
a1 = 0.497
a2 = 3.622
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dftb-dynamics-simulation"><a class="header" href="#dftb-dynamics-simulation">DFTB dynamics simulation</a></h1>
<p>Here, we show example <em>dialect.toml</em> and <em>dynamics.toml</em> file configurations for the simulation of molecular dynamics using DFTB methods.</p>
<h2 id="ground-state-dynamics"><a class="header" href="#ground-state-dynamics">Ground state dynamics</a></h2>
<h3 id="dialecttoml"><a class="header" href="#dialecttoml">dialect.toml</a></h3>
<pre><code class="language-toml">jobtype = &quot;dynamics&quot;
verbose = 0

[tight_binding]
use_dftb = true 
use_xtb1 = false   
use_gaussian_gamma = false  
use_shell_resolved_gamma = false 

[mol]
charge = 0
multiplicity = 1

[scf]
scf_max_cycles = 250
scf_charge_conv = 1.0e-8
scf_energy_conv = 1.0e-8

[lc]
long_range_correction = true
long_range_radius = 3.333333

[slater_koster]
use_external_skf = true
skf_directory = &quot;/path/to/skf/files&quot;

[parallelization]
number_of_cores = 1

[dispersion]
use_dispersion = false
s6 = 1.0
s8 = 0.01
a1 = 0.497
a2 = 3.622
</code></pre>
<h3 id="dynamicstoml"><a class="header" href="#dynamicstoml">dynamics.toml</a></h3>
<pre><code class="language-toml">nstep = 100 # Number of steps
stepsize = 0.1 # stepsize in fs
restart_flag = false # request restart of the dynamcis simulation
initial_state = [0] # initial state for the simulation
nstates = 1 # Number of electronic states
gs_dynamic = true # Flag for ground state dynamics
use_surface_hopping = false
use_ehrenfest = false 
load_velocities_from_file = false # Read initial velocities from the file velocities.npy
use_boltzmann_velocities = true # Sample initial velocities from Maxwell-Boltzmann distribution

[thermostat_config]
use_thermostat = false # Use a thermostat, here Berendsen
temperature = 300.0 
time_coupling = 50.0 # time coupling constant of the thermostat

[print_config]
print_restart = true # write a restart file
print_coordinates = true # write the coordinates in a trajetory file, dynamics.xyz
print_energies = true # write the energies to a file
print_temperature = true # write the temperature to a file
</code></pre>
<h2 id="excited-state-surface-hopping-dynamics"><a class="header" href="#excited-state-surface-hopping-dynamics">Excited state surface hopping dynamics</a></h2>
<h3 id="dialecttoml-1"><a class="header" href="#dialecttoml-1">dialect.toml</a></h3>
<pre><code class="language-toml">jobtype = &quot;dynamics&quot;
verbose = 0

[tight_binding]
use_dftb = true 
use_xtb1 = false   
use_gaussian_gamma = false  
use_shell_resolved_gamma = false 

[mol]
charge = 0
multiplicity = 1

[scf]
scf_max_cycles = 250
scf_charge_conv = 1.0e-8
scf_energy_conv = 1.0e-8

[lc]
long_range_correction = true
long_range_radius = 3.333333

[excited]
calculate_excited_states = true
nstates = 10
davidson_iterations = 100
davidson_subspace_multiplier = 10
davidson_convergence = 0.00001
use_casida = false
get_all_states = false

[tddftb]
restrict_active_orbitals = false
active_orbital_threshold = 0.2
save_transition_densities = false
states_to_analyse = [0, 1]

[slater_koster]
use_external_skf = true
skf_directory = &quot;/path/to/skf/files&quot;

[parallelization]
number_of_cores = 1

[dispersion]
use_dispersion = false
s6 = 1.0
s8 = 0.01
a1 = 0.497
a2 = 3.622
</code></pre>
<h3 id="dynamicstoml-1"><a class="header" href="#dynamicstoml-1">dynamics.toml</a></h3>
<pre><code class="language-toml">nstep = 100
stepsize = 0.1
restart_flag = false
initial_state = [2]
nstates = 8
gs_dynamic = false
use_surface_hopping = true # Do a surface hopping molecular dynamics simulation
use_ehrenfest = false # request the use of the Ehrenfest method
load_velocities_from_file = false
use_boltzmann_velocities = true

[hopping_config]
force_switch_to_gs = true # In TDDFTB, the conical intersection between the ground state and the excited states is only represented by a simple crossing instead of a cone. This option forces the trajectory to hop to the ground state if the difference in potential energy is below a certain threshold.
decoherence_correction = true # Use a decoherence correction
use_rk_integration = false # integrate the differential equation of the expansion coefficients with Runge-Kutta
use_local_diabatisation = true # Use the local diabatisation for the surface hopping dynamics to avoid strongly peaked nonadiabatic coupling values
use_rescaling_at_frustrated_hop = true # rescale velocities at frustrated hops
integration_steps = 1000 # integration steps for the Runge-Kutta routine

[nonadibatic_config]
use_nacv_couplings = true # Use nonadiabatic coupling vectors for the surface hopping procedure
use_nact_couplings = false # Use the scalar coupling for the surface hopping dynamics

[thermostat_config]
use_thermostat = false # use a Berendsen thermostat
temperature = 300.0 # Temperature in Kelvin
time_coupling = 50.0 # time coupling constant of the Berendsen thermostat

[print_config]
print_restart = true # write a restart file from where a dynamics calculation can be restarted
print_coordinates = true # write the coordinates to the file &quot;dynamics.xyz&quot;
print_energies = true # write the energies to a file
print_temperature = true # write the temperature to a file
print_state = true # write the state for the surface hopping method for each geometry along the trajectory to a file
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dftb-excited-state-dynamics-initial-conditions"><a class="header" href="#dftb-excited-state-dynamics-initial-conditions">DFTB excited state dynamics initial conditions</a></h1>
<p>Here, we show example <em>dialect.toml</em> file configuration for the calculation of initial coordinates and velocities of a surface hopping simulation. </p>
<p>The jobtype &quot;initial_conditions&quot; first performs a optimization of the geometry, which is followed by the calculation of the ground-state Hessian and concluded by the sampling of a Wigner distribution.</p>
<h3 id="dialecttoml-2"><a class="header" href="#dialecttoml-2">dialect.toml</a></h3>
<pre><code class="language-toml">jobtype = &quot;initial_conditions&quot;
verbose = 0

[tight_binding]
use_dftb = true 
use_xtb1 = false   
use_gaussian_gamma = false  
use_shell_resolved_gamma = false 

[scf]
scf_max_cycles = 250
scf_charge_conv = 1.0e-8
scf_energy_conv = 1.0e-8

[lc]
long_range_correction = true
long_range_radius = 3.333333

[opt]
state_to_optimize = 0 # optimize the ground state
geom_opt_max_cycles = 500 # maximum iterations
geom_opt_tol_displacement = 1.0 # geometry displacement tolerance
geom_opt_tol_gradient = 1.0 # gradient tolerance
geom_opt_tol_energy = 1.0e-1 # energy tolerance
use_bfgs = true # employ lbfgs
use_line_search = true # utilize line search

[slater_koster]
use_external_skf = true
skf_directory = &quot;/path/to/skf/files&quot;

[parallelization]
number_of_cores = 1

[dispersion]
use_dispersion = false
s6 = 1.0
s8 = 0.01
a1 = 0.497
a2 = 3.622

[wigner_config]
n_samples = 50                     # Number of samples to generate (position + velocity)
temperature = 50.0                 # Temperature for sampling (Wigner distribution)
n_cut = 6                          # Number of modes (typically rotational/translation) to exclude from Hessian
save_in_other_path = false         # Save files outside the working directory?
wigner_path = &quot; &quot;                  # If saving elsewhere, specify full directory path
write_velocities = true            # Save velocity vectors in output (NumPy format)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="strong-light-matter-interactions-1"><a class="header" href="#strong-light-matter-interactions-1">Strong light-matter interactions</a></h1>
<p>Here, we present an example <em>dialect.toml</em> configuration for the calculation of the polaritonic excited states in the framework of FMO-LC-TDDFTB.</p>
<h3 id="dialecttoml-3"><a class="header" href="#dialecttoml-3">dialect.toml</a></h3>
<pre><code class="language-toml">jobtype = &quot;polariton&quot;
verbose = 0

[tight_binding]
use_dftb = true
use_xtb1 = false
use_gaussian_gamma = false
use_shell_resolved_gamma = false

[fmo]
fmo = true
vdw_scaling = 2.0

[scf]
scf_max_cycles = 250
scf_charge_conv = 1.0e-8
scf_energy_conv = 1.0e-8

[lc]
long_range_correction = true
long_range_radius = 3.33333333333333

[excited]
calculate_excited_states = true
nstates = 600
davidson_iterations = 100
davidson_subspace_multiplier = 10
davidson_convergence = 0.00001
use_casida = false
get_all_states = false

[tddftb]
restrict_active_orbitals = false
active_orbital_threshold = 0.2
save_transition_densities = false
save_natural_transition_orbitals = false
states_to_analyse = [0, 1]

[slater_koster]
use_external_skf = true
skf_directory = &quot;/Users/einseler/work/slater_koster_files/ob2-1-1/split&quot;

[parallelization]
number_of_cores = 4

[fmo_lc_tddftb]
restrict_active_space = true
active_space_threshold_le = 0.0001
active_space_threshold_ct = 0.0001
n_le = 2
n_ct = 1
calculate_all_states = false
calculate_ntos = false
calculate_transition_densities = false
calculate_particle_hole_densities = false
states_to_analyse = [0, 1]
calc_exact_s_sqrt_inv = false

[dispersion]
use_dispersion = false
s6 = 1.0
s8 = 0.01
a1 = 0.497
a2 = 3.622

[polariton]
e = [[1.0, 1.0, 1.0]]
p = [[0.0, 1.0, 0.0]]
quantized_volume = [10000000]
photon_energy = [0.1838950000382341]
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
